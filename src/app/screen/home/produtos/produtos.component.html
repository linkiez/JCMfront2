<p-table
  #dt
  [value]="produtos"
  [paginator]="false"
  [rows]="query.pageCount"
  [selection]="true"
  responsiveLayout="scroll"
>
  <ng-template pTemplate="caption">
    <div class="d-flex justify-content-between">
      <span class="p-input-icon-left ml-auto">
        <i class="pi pi-search"></i>
        <input
          pInputText
          class="p-inputtext"
          type="text"
          placeholder="Search keyword"
          [(ngModel)]="query.searchValue"
          (ngModelChange)="search()"
        />
      </span>
      <p-checkbox name="chkDeleted" label="Deletados" [(ngModel)]="query.deleted" [binary]="true" (ngModelChange)="getProdutos()" ></p-checkbox>
      <button pButton class="button" (click)="new()">
        <i class="pi pi-plus"></i>
      </button>
    </div>
  </ng-template>

  <ng-template pTemplate="header">
    <tr>
      <th pSortableColumn="id">Código<p-sortIcon field="id"></p-sortIcon></th>
      <th pSortableColumn="nome" class="col-8">Nome<p-sortIcon field="nome"></p-sortIcon></th>

      <th>Valor Maior</th>
      <th>Valor Médio</th>
      <th>Valor Menor</th>
      <th>Atualização</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-product>
    <tr (click)="clickDeleted(product.id)">
      <td>{{ product.id }}</td>
      <td>{{ product.nome }}</td>
      <td>{{ product.preco!=0?(product.preco * 2| currency: "BRL"):'-'}}</td>
      <td>{{ product.preco!=0?(product.preco * 1.8| currency: "BRL"):'-'}}</td>
      <td>{{ product.preco!=0?(product.preco * 1.6| currency: "BRL"):'-'}}</td>
      <td>{{ product.atualizacao!='-'?(product.atualizacao | date: 'dd/MM/yyyy'):'-'}}</td>
    </tr>
  </ng-template>
</p-table>
<div class="">
  <p-paginator #paginator [rows]="query.pageCount" [totalRecords]="totalRecords"[rowsPerPageOptions]="[25,50,100]" (onPageChange)="pageChange($event)" [showCurrentPageReport]=true [currentPageReportTemplate]="totalRecords+' resultados'"></p-paginator>
</div>
<p-confirmDialog header="Confirmação" icon="pi pi-exclamation-triangle"></p-confirmDialog>
